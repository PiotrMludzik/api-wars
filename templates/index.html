{% extends "base.html" %}
{% block page_title %}Star Wars {{ subjectName }} list{% endblock %}
{% block contents %}
    <!-- Subject data table -->
    <table class="table table-bordered table-striped">
        <!-- Header names -->
        <thead class="table-dark">
            <tr>
                {% for name in columnNames %}
                    <th>{{ name }}</th>
                {% endfor %}
            </tr>
        </thead>
        <!-- Subject data -->
        <tbody>
            {% for item in subjectData %}  <!-- all data -->
                <tr>
                    {% set firstLoop = loop %}
                    {% for key, value in item.items() %}  <!-- record -->
                        <td class="{{ key }}">
                            {% if key in buttonColumnName %}  <!-- column with button -->
                                {% set dataNumbers = buttonColumnData[firstLoop.index - 1][key]|length %}
                                {% if dataNumbers > 0 %}
                                    <!-- Insert button data -->
                                    <button type="button" class="btn btn-sm btn-secondary">
                                        {% if dataNumbers == 1 %}
                                            1 {{ key[:-1] }}
                                        {% else %}
                                            {{ dataNumbers }} {{ key }}
                                        {% endif %}
                                    </button>
                                {% endif %}
                            {% else %}  <!-- data in the cell -->
                                {{ value }}
                            {% endif %}
                        </td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
